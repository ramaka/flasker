{% extends 'base.html' %} 

{% block content %}
<h1> Register Here.. </h1>
{% for message in get_flashed_messages() %} 
	
	<div class="alert alert-success alert-dismissible fade show" role="alert">
		{{ message }}
	<button type="button" class="close" data-dismiss="alert" aria-label="Close">
	<span aria-hidden="true">&times;</span>
	</button>
	</div>
{% endfor %}

{% if name %}
<div class="shadow p-3 mb-5 bg-white rounded">
	<h1>Hello {{name}} </h1><br><br>
	<br>
</div>
	<br>
<div class="shadow p-3 mb-5 bg-white rounded"> 
	<h4> Our Users ...</h4>
	<br>

{% for our_user in our_users %}
<table class="table table-hover table-bordered table-striped" >
<tr>
	<td>{{ our_user.id }} . <a href="{{ url_for ('update', id=our_user.id)}}"> {{ our_user.name }} </a> - {{ our_user.email }} - {{ our_user.favourite_color }} 
		<a href="{{ url_for ('delete', id=our_user.id)}}">Delete</a>
	</td>
</tr>
{% endfor %}
</table>

	
{% else %}
	<div class="shadow p-3 mb-5 bg-white rounded">
			<form method="POST">
			{{ form.hidden_tag() }}
		<tr> 	
			<td>{{ form.username.label(class="form-label")}}
				{{ form.username(class="form-control") }}
				<br/>
				{{ form.name.label(class="form-label")}}
				{{ form.name(class="form-control") }}
				<br>
				{{ form.email.label(class="form-label") }}
				{{ form.email(class="form-control") }}
				<br>
				{{ form.favourite_color.label(class="form-label") }}
				{{ form.favourite_color(class="form-control") }} 
				<br>
				{{ form.password_hash.label(class="form-label") }}
				{{ form.password_hash(class="form-control") }} 
				<br>
				{{ form.password_hash2.label(class="form-label") }}
				{{ form.password_hash2(class="form-control") }} 
				<br>
				{{ form.about_author.label(class="form-label") }}
				{{ form.about_author(class="form-control", rows="15") }}
				<br>
				
			</td>
		</tr>
			{{ form.submit(class="btn btn-secondary") }}
		</form>
	</div>	
	
	<div class="shadow p-3 mb-5 bg-white rounded">
		<h2> Our Users ...</h2>

		<table class="table table-hover table-bordered table-striped" style="width: "100%" >

		<tr>  <th>ID</th> <th>Username</th>  <th>Name</th>  <th>Email</th> 
			  <th>Favorit Color</th> <th>Password</th>  <th> <center> Delete? </center></th> 
		</tr>

		{% for our_user in our_users %}
				 
		<tr>  	<td> {{ our_user.id }}</td>
				<td> {{ our_user.username }} </td>
			  	<td> <a href="{{ url_for ('update', id=our_user.id)}}"> {{ our_user.name }} </a> </td>
			  	<td> {{ our_user.email }} </td>
			    <td> {{ our_user.favourite_color }} </td> 
			    <td> {{ our_user.password_hash }} </td>
			    <td> <center> <a href="{{ url_for ('delete', id=our_user.id)}}">Delete</a> </center> </td>
			    
		</tr>
{% endfor %}
</table>


{% endif %}		
	</div>
{% endblock %}
</div>